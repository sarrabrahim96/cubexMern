{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/cubex2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/cubex2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/cubex2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from'react';import{Link,NavLink}from'react-router-dom';import'./header.scss';import ContactInfoWidget from'../Widget/ContactInfoWidget';import Div from'../Div';import{GlobalState}from'../../GlobalState';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(_ref){var variant=_ref.variant;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSticky=_useState2[0],setIsSticky=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sideHeaderToggle=_useState4[0],setSideHeaderToggle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),mobileToggle=_useState6[0],setMobileToggle=_useState6[1];useEffect(function(){window.addEventListener('scroll',function(){if(window.scrollY>0){setIsSticky(true);}else{setIsSticky(false);}});},[]);var state=useContext(GlobalState);var _state$UserApi$isLogg=_slicedToArray(state.UserApi.isLogged,2),isLogged=_state$UserApi$isLogg[0],setIsLogged=_state$UserApi$isLogg[1];var _state$UserApi$isAdmi=_slicedToArray(state.UserApi.isAdmin,2),isAdmin=_state$UserApi$isAdmi[0],setIsAdmin=_state$UserApi$isAdmi[1];var logutUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://cubexback.online/user/logout');case 2:localStorage.removeItem('firstLogin');setIsAdmin(false);setIsLogged(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function logutUser(){return _ref2.apply(this,arguments);};}();var adminRouter=function adminRouter(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/createOffer\",children:\"Create Offers\"})})});};var loggedRouter=function loggedRouter(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logutUser,children:\"Se deconnecter\"})})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{className:\"cs-site_header cs-style1 text-uppercase \".concat(variant?variant:'',\" cs-sticky_header \").concat(isSticky?'cs-sticky_header_active':''),children:/*#__PURE__*/_jsx(Div,{className:\"cs-main_header\",children:/*#__PURE__*/_jsx(Div,{className:\"container\",children:/*#__PURE__*/_jsxs(Div,{className:\"cs-main_header_in\",children:[/*#__PURE__*/_jsx(Div,{className:\"cs-main_header_left\",children:/*#__PURE__*/_jsx(Link,{className:\"cs-site_branding\",to:\"/\",children:isAdmin?'ADMIN':/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"Logo\",style:{width:\"200px\"}})})}),/*#__PURE__*/_jsx(Div,{className:\"cs-main_header_center\",children:/*#__PURE__*/_jsxs(Div,{className:\"cs-nav cs-primary_font cs-medium\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"cs-nav_list\",style:{display:\"\".concat(mobileToggle?'block':'none')},children:[isAdmin?'':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",onClick:function onClick(){return setMobileToggle(false);},children:\"Acceuil\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"about\",onClick:function onClick(){return setMobileToggle(false);},children:\"A Propos\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"contact\",onClick:function onClick(){return setMobileToggle(false);},children:\"Nous Contacter\"})})]}),isAdmin?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"contacts\",onClick:function onClick(){return setMobileToggle(false);},children:\"Contact\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"users\",onClick:function onClick(){return setMobileToggle(false);},children:\"Utilisateurs\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"portfolio\",onClick:function onClick(){return setMobileToggle(false);},children:\"Offres\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"portfolio\",onClick:function onClick(){return setMobileToggle(false);},children:\"Offres d'emplois\"})})}),isAdmin&&adminRouter(),isLogged?loggedRouter():/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",onClick:function onClick(){return setMobileToggle(false);},children:\"Se Connecter\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/registre\",onClick:function onClick(){return setMobileToggle(false);},children:\"S'inscrire\"})})]})]}),/*#__PURE__*/_jsx(\"span\",{className:mobileToggle?'cs-munu_toggle cs-toggle_active':'cs-munu_toggle',onClick:function onClick(){return setMobileToggle(!mobileToggle);},children:/*#__PURE__*/_jsx(\"span\",{})})]})}),/*#__PURE__*/_jsx(Div,{className:\"cs-main_header_right\",children:/*#__PURE__*/_jsx(Div,{className:\"cs-toolbox\",children:/*#__PURE__*/_jsx(\"span\",{className:\"cs-icon_btn\",onClick:function onClick(){return setSideHeaderToggle(!sideHeaderToggle);},children:/*#__PURE__*/_jsxs(\"span\",{className:\"cs-icon_btn_in\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})})})]})})})}),/*#__PURE__*/_jsxs(Div,{className:sideHeaderToggle?'cs-side_header active':'cs-side_header',children:[/*#__PURE__*/_jsx(\"button\",{className:\"cs-close\",onClick:function onClick(){return setSideHeaderToggle(!sideHeaderToggle);}}),/*#__PURE__*/_jsx(Div,{className:\"cs-side_header_overlay\",onClick:function onClick(){return setSideHeaderToggle(!sideHeaderToggle);}}),/*#__PURE__*/_jsxs(Div,{className:\"cs-side_header_in\",children:[/*#__PURE__*/_jsx(Div,{className:\"cs-side_header_shape\"}),/*#__PURE__*/_jsx(Link,{className:\"cs-site_branding\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"Logo\"})}),/*#__PURE__*/_jsx(Div,{className:\"cs-side_header_box\",children:/*#__PURE__*/_jsx(ContactInfoWidget,{title:\"Contact\",withIcon:true})}),/*#__PURE__*/_jsx(Div,{className:\"cs-side_header_box\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","NavLink","ContactInfoWidget","Div","GlobalState","axios","Header","variant","isSticky","setIsSticky","sideHeaderToggle","setSideHeaderToggle","mobileToggle","setMobileToggle","window","addEventListener","scrollY","state","UserApi","isLogged","setIsLogged","isAdmin","setIsAdmin","logutUser","get","localStorage","removeItem","adminRouter","loggedRouter","width","display"],"sources":["C:/Users/User/Desktop/cubex2/client/src/components/Header/index.jsx"],"sourcesContent":["import React, { useEffect, useState , useContext } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport './header.scss';\nimport ContactInfoWidget from '../Widget/ContactInfoWidget';\nimport Div from '../Div';\nimport {GlobalState} from '../../GlobalState'\nimport axios from 'axios'\n\n\n\nexport default function Header({ variant }) {\n  const [isSticky, setIsSticky] = useState(false);\n  const [sideHeaderToggle, setSideHeaderToggle] = useState(false);\n  const [mobileToggle, setMobileToggle] = useState(false);\n  useEffect(() => {\n    window.addEventListener('scroll', () => {\n      if (window.scrollY > 0) {\n        setIsSticky(true);\n      } else {\n        setIsSticky(false);\n      }\n    });\n  }, []);\n  const state = useContext(GlobalState)\n  const [isLogged, setIsLogged]= state.UserApi.isLogged\n  const [isAdmin, setIsAdmin]= state.UserApi.isAdmin\nconst logutUser = async() =>{\n    await axios.get('https://cubexback.online/user/logout')\n    localStorage.removeItem('firstLogin')\n    setIsAdmin(false)\n    setIsLogged(false)\n  }\n\nconst adminRouter =()=>{\n  return(\n    <>\n    <li><Link to='/createOffer'>Create Offers</Link></li>\n    </>\n  )\n }\nconst loggedRouter =()=>{\n  return(\n    <>\n    <li><Link to='/' onClick={logutUser}>Se deconnecter</Link></li>\n  \n    </>\n  )\n }\n\n\n  return (\n    <>\n      <header\n        className={`cs-site_header cs-style1 text-uppercase ${\n          variant ? variant : ''\n        } cs-sticky_header ${isSticky ? 'cs-sticky_header_active' : ''}`}\n      >\n        <Div className=\"cs-main_header\">\n          <Div className=\"container\">\n            <Div className=\"cs-main_header_in\">\n              <Div className=\"cs-main_header_left\">\n                <Link className=\"cs-site_branding\" to=\"/\">\n                  {isAdmin ? 'ADMIN' : <img src=\"/images/logo.png\" alt=\"Logo\" style={{width:\"200px\"}} />}\n                </Link>\n              </Div>\n              <Div className=\"cs-main_header_center\">\n                <Div className=\"cs-nav cs-primary_font cs-medium\">\n                  <ul\n                    className=\"cs-nav_list\"\n                    style={{ display: `${mobileToggle ? 'block' : 'none'}` }}\n                  >\n                   \n                    {isAdmin ? '' :\n                    <>\n                    <li>\n                    <NavLink to=\"/\" onClick={() => setMobileToggle(false)}>\n                        Acceuil\n                    </NavLink>\n                    \n                   </li>\n                    <li>\n                      <NavLink to=\"about\" onClick={() => setMobileToggle(false)}>\n                        A Propos\n                      </NavLink>\n                    </li>\n                    <li>\n                      <NavLink to=\"contact\"onClick={() => setMobileToggle(false)}>\n                        Nous Contacter\n                      </NavLink>\n                    </li>\n                    </>}\n                    {isAdmin ? <>     \n                      <li>\n                      <NavLink to=\"contacts\"onClick={() => setMobileToggle(false)}>\n                         Contact\n                      </NavLink>\n                    </li>\n                    <li>\n                      <NavLink to=\"users\" onClick={() => setMobileToggle(false)}>\n                         Utilisateurs\n                      </NavLink>\n                    </li>               \n                    <li>\n                      <NavLink to=\"portfolio\"onClick={() => setMobileToggle(false)}>\n                         Offres\n                      </NavLink>\n                    </li>\n\n                    \n                    \n                    </> : \n                    <>                    \n                    <li>\n                      <NavLink to=\"portfolio\" onClick={() => setMobileToggle(false)}>\n                         Offres d'emplois\n                      </NavLink>\n                    </li></> }\n\n\n                    {isAdmin && adminRouter()}\n      { \n        isLogged ? loggedRouter() :<>\n                    <li>\n                      <Link to=\"/login\" onClick={() => setMobileToggle(false)}>\n                        Se Connecter\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/registre\" onClick={() => setMobileToggle(false)}>\n                        S'inscrire\n                      </Link>\n                    </li>\n                    </>}\n                  </ul>\n                  <span\n                    className={\n                      mobileToggle\n                        ? 'cs-munu_toggle cs-toggle_active'\n                        : 'cs-munu_toggle'\n                    }\n                    onClick={() => setMobileToggle(!mobileToggle)}\n                  >\n                    <span></span>\n                  </span>\n                </Div>\n              </Div>\n              <Div className=\"cs-main_header_right\">\n                <Div className=\"cs-toolbox\">\n                  <span\n                    className=\"cs-icon_btn\"\n                    onClick={() => setSideHeaderToggle(!sideHeaderToggle)}\n                  >\n                    <span className=\"cs-icon_btn_in\">\n                      <span />\n                      <span />\n                      <span />\n                      <span />\n                    </span>\n                  </span>\n                </Div>\n              </Div>\n            </Div>\n          </Div>\n        </Div>\n      </header>\n\n      <Div\n        className={\n          sideHeaderToggle ? 'cs-side_header active' : 'cs-side_header'\n        }\n      >\n        <button\n          className=\"cs-close\"\n          onClick={() => setSideHeaderToggle(!sideHeaderToggle)}\n        />\n        <Div\n          className=\"cs-side_header_overlay\"\n          onClick={() => setSideHeaderToggle(!sideHeaderToggle)}\n        />\n        <Div className=\"cs-side_header_in\">\n          <Div className=\"cs-side_header_shape\" />\n          <Link className=\"cs-site_branding\" to=\"/\">\n            <img src=\"/images/logo.png\" alt=\"Logo\" />\n          </Link>\n          <Div className=\"cs-side_header_box\">\n            <ContactInfoWidget title=\"Contact\" withIcon />\n          </Div>\n          <Div className=\"cs-side_header_box\">\n          </Div>\n        </Div>\n      </Div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}