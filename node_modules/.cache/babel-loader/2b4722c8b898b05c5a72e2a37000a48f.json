{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/cubex2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/cubex2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/cubex2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from\"axios\";function Offerapi(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),offers=_useState2[0],setOffers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),callback=_useState4[0],setCallback=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),pays=_useState6[0],setpays=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setpage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),result=_useState14[0],setResult=_useState14[1];useEffect(function(){var getoffers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/offer?limit=\".concat(page*9,\"&\").concat(pays,\"&\").concat(sort,\"&poste[regex]=\").concat(search));case 2:res=_context.sent;setResult(res.data.result);setOffers(res.data.Offers);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getoffers(){return _ref.apply(this,arguments);};}();try{getoffers();}catch(error){console.log(error);}},[callback,pays,sort,search,page]);return{offers:[offers,setOffers],callback:[callback,setCallback],pays:[pays,setpays],sort:[sort,setSort],search:[search,setSearch],page:[page,setpage],result:[result,setResult]};}export default Offerapi;","map":{"version":3,"names":["useState","useEffect","axios","Offerapi","offers","setOffers","callback","setCallback","pays","setpays","sort","setSort","search","setSearch","page","setpage","result","setResult","getoffers","get","res","data","Offers","error","console","log"],"sources":["C:/Users/User/Desktop/cubex2/client/src/api/offerApi.js"],"sourcesContent":["import  {useState , useEffect }from 'react'\r\nimport axios from \"axios\"\r\n\r\n\r\nfunction Offerapi() {\r\nconst [offers , setOffers] = useState([])\r\nconst [callback , setCallback] = useState(false)\r\nconst [pays , setpays]= useState('')\r\nconst [sort , setSort]= useState('')\r\nconst [search , setSearch]= useState('')\r\nconst [page , setpage]= useState(1)\r\nconst [result , setResult]= useState(0)\r\nuseEffect(() =>{\r\n  const getoffers = async () => {\r\n    const res = await axios.get(`/api/offer?limit=${page*9}&${pays}&${sort}&poste[regex]=${search}`)\r\n    setResult(res.data.result)\r\n    setOffers(res.data.Offers)\r\n  \r\n }\r\n try {\r\n  getoffers()\r\n} catch (error) {\r\n  console.log(error)\r\n}\r\n  \r\n},[callback,pays,sort,search,page]);\r\n\r\n  return {\r\n    offers :[offers , setOffers],\r\n    callback : [callback , setCallback], \r\n    pays : [pays , setpays],\r\n    sort : [sort , setSort] ,\r\n    search :[search , setSearch] ,\r\n    page :[page , setpage],\r\n    result :[result , setResult]\r\n\r\n   \r\n  }}\r\n\r\nexport default Offerapi"],"mappings":"2XAAA,OAASA,QAAQ,CAAGC,SAAS,KAAO,OAAO,CAC3C,MAAOC,MAAK,KAAM,OAAO,CAGzB,QAASC,SAAQ,EAAG,CACpB,cAA6BH,QAAQ,CAAC,EAAE,CAAC,wCAAlCI,MAAM,eAAGC,SAAS,eACzB,eAAiCL,QAAQ,CAAC,KAAK,CAAC,yCAAzCM,QAAQ,eAAGC,WAAW,eAC7B,eAAwBP,QAAQ,CAAC,EAAE,CAAC,yCAA7BQ,IAAI,eAAGC,OAAO,eACrB,eAAwBT,QAAQ,CAAC,EAAE,CAAC,yCAA7BU,IAAI,eAAGC,OAAO,eACrB,eAA4BX,QAAQ,CAAC,EAAE,CAAC,0CAAjCY,MAAM,gBAAGC,SAAS,gBACzB,gBAAwBb,QAAQ,CAAC,CAAC,CAAC,2CAA5Bc,IAAI,gBAAGC,OAAO,gBACrB,gBAA4Bf,QAAQ,CAAC,CAAC,CAAC,2CAAhCgB,MAAM,gBAAGC,SAAS,gBACzBhB,SAAS,CAAC,UAAK,CACb,GAAMiB,UAAS,4FAAG,mKACEhB,MAAK,CAACiB,GAAG,4BAAqBL,IAAI,CAAC,CAAC,aAAIN,IAAI,aAAIE,IAAI,0BAAiBE,MAAM,EAAG,QAA1FQ,GAAG,eACTH,SAAS,CAACG,GAAG,CAACC,IAAI,CAACL,MAAM,CAAC,CAC1BX,SAAS,CAACe,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC,uDAE5B,kBALMJ,UAAS,0CAKf,CACD,GAAI,CACHA,SAAS,EAAE,CACb,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAEA,CAAC,CAAC,CAACjB,QAAQ,CAACE,IAAI,CAACE,IAAI,CAACE,MAAM,CAACE,IAAI,CAAC,CAAC,CAEjC,MAAO,CACLV,MAAM,CAAE,CAACA,MAAM,CAAGC,SAAS,CAAC,CAC5BC,QAAQ,CAAG,CAACA,QAAQ,CAAGC,WAAW,CAAC,CACnCC,IAAI,CAAG,CAACA,IAAI,CAAGC,OAAO,CAAC,CACvBC,IAAI,CAAG,CAACA,IAAI,CAAGC,OAAO,CAAC,CACvBC,MAAM,CAAE,CAACA,MAAM,CAAGC,SAAS,CAAC,CAC5BC,IAAI,CAAE,CAACA,IAAI,CAAGC,OAAO,CAAC,CACtBC,MAAM,CAAE,CAACA,MAAM,CAAGC,SAAS,CAG7B,CAAC,EAEH,cAAed,SAAQ"},"metadata":{},"sourceType":"module"}